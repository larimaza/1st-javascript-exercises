<!DOCTYPE html>
<html>

	<head>

		<meta charset="UTF-8">
		<style>

			body {
				font-family: sans-serif;
				margin: 0;
			}
			.background {
				height: 100vh;
				background: linear-gradient(230deg, #D8E6F0, #D6B4ED, #b4edd6) 0% 0% / 300% 300%;
				animation: hipsterbg 50s ease infinite;
			}
			@keyframes hipsterbg {
				0%{background-position:0% 50%}
			    50%{background-position:100% 50%}
			    100%{background-position:0% 50%}
			}
			.container {
				width: 250px;
			    height: 169px;
			    margin: auto;
			    position: absolute;
			    top: 0;
			    bottom: 0;
			    left: 0;
			    right: 0;
			    background: #D8E6F0;
			    padding: 20px;
			    border: 1px solid #D6B4ED;
			    box-shadow: 0px 0px 47px 0px rgba(0,0,0,0.1);
			}
			.title {
				font-size: 28px;
    			letter-spacing: 11px;
    			text-transform: uppercase;				
				color: #818a90;
				margin: 0;
			}
			.subtitle {
				font-size: 9.1px;
				margin-bottom: 10px;
				margin-top: 2px;
				color: #404548;
			}
			.box {
				border-top: 1px dotted white;
    			padding-top: 10px;
			}
			label {
				display: block;
				color: #404548;
				font-size: 16px;
			}
			.number-input {
				margin-bottom: 20px;
				width: 92px;
			}
			.results-input {
				margin-bottom: 20px;
				width: 40px;
			}
			.btn-calculate {
				width: 248px;
			}
			.output-box {
				width: 250px;
			    background: rgba(0,0,0,0.7);
			    display: none;
			    top: 0;
			    left: 0;
			    position: fixed;
			    z-index: 999;
			    width: 100%;
			    height: 100%;
			    overflow: scroll;
			}
			.output-inside {
				margin: auto;
				background: #D8E6F0;
			    padding: 30px;
			    border: 1px solid #D6B4ED;
			    box-shadow: 0px 0px 47px 0px rgba(0,0,0,0.1);
			}
			.btn-close {
				position: relative;
    			top: -23px;
    			right: -23px;
    			float: right;
			}
			.output-title, .output {
				color: #404548;
				font-size: 16px;
				text-align: left;
				clear: both;
			}

		</style>
		<title>Tabuadify</title>

	</head>

	<body>

		<div class="background">
			<div class="container">
				<h1 class="title">Tabuadify</h1>
				<h2 class="subtitle">A calculadora de tabuada mais pretensiosa da internet</h2>
				<div class="box">
					<label class="number-label">Tabuada do número:
						<input class="number-input">
					</label>
					<label class="results-label">Mostrar quantos resultados:
						<input class="results-input">
					</label>
					<button class="btn-calculate">Calcular!</button>
					<div class="output-box">
						<div class="output-inside">
							<button class="btn-close">x</button>
							<p class="output-title"></span></p>
							<p class="output"></p>
						</div>
					</div>
				</div>
			</div>
		</div>      

		<script>

			//////////////////////////////////////////////////////////
			// Helper variables
			//////////////////////////////////////////////////////////

			var a = 1; 

			//////////////////////////////////////////////////////////
			// Module's DOM elements
			//////////////////////////////////////////////////////////

			var numberInput = document.querySelector(".number-input");
			var resultsInput = document.querySelector(".results-input");
			var calculateBtn = document.querySelector(".btn-calculate");
			var closeBtn = document.querySelector(".btn-close");
			var output = document.querySelector(".output");
			var outputBox = document.querySelector(".output-box");
			var outputTitle = document.querySelector(".output-title");

			//////////////////////////////////////////////////////////
			// Event binds
			//////////////////////////////////////////////////////////	
			
			calculateBtn.onclick = showResults;
			closeBtn.onclick = closeResults;

			//////////////////////////////////////////////////////////
			// Helper functions
			//////////////////////////////////////////////////////////	

			function validateStringAsNumber(isThisValid){
				if(isNaN(isThisValid.value) || Number.isInteger(parseFloat(isThisValid.value)) == false){
					return false;
				} else{
					return true;
				}
			}

			//////////////////////////////////////////////////////////
			// Event handlers
			//////////////////////////////////////////////////////////

			function showResults(){
				var numberInputReady = parseInt(numberInput.value);
				var resultsInputReady = parseInt(resultsInput.value);

				if(validateStringAsNumber(numberInput) == false || validateStringAsNumber(resultsInput) == false){
					alert("Por favor, preencha os dois campos com números inteiros");
					numberInput.value = "";
					resultsInput.value = "";
				} else{
					outputBox.style.display = "flex";
					outputTitle.innerHTML = ("Tabuada do " + numberInputReady + "<br><br>");
					while(a <= resultsInputReady){
						output.innerHTML += numberInputReady + " x " + a + " = " + (a*numberInputReady) + "<br>";
						a++;
					}
				}
			}		

			function closeResults(){
				outputBox.style.display = "none";
				numberInput.value = "";
				resultsInput.value = "";
				outputTitle.innerHTML = "";
				output.innerHTML = "";
				a = 1;
			}

		</script>
		
	</body>

</html>